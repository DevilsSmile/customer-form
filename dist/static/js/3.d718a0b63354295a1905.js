webpackJsonp([3],{"n+/J":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("mvHQ"),l=o.n(i),s=o("jAow"),n=o.n(s),a=(o("qKcU"),o("7K6E")),r=o.n(a),m={data:function(){return{clientType:this.$store.state.clientType,formId:"",formDesign:{},widgetList:[],uploadindKey:"",uploadKeyList:[],uploadFile:[],uploadFileUrl:[],isPreview:!1,formDetail:{title:"企业员工满意度调查"},formUser:{company:"",code:"",name:"",contact:""},rule:{company:[{required:!0,message:"请输入您的企业名称",trigger:"blur"}],code:[{required:!0,message:"请输入统一机构代码",trigger:"blur"}],name:[{required:!0,message:"请输入联系人姓名",trigger:"blur"}],contact:[{required:!0,message:"请输入您的联系方式",trigger:"blur"}]}}},computed:{signInUser:function(){return this.$store.state.signInUser}},watch:{signInUser:{handler:function(e,t){console.log("input",e),this.formUser={company:e.companyName,code:e.companyCode,name:e.name,contact:e.contact}},deep:!0,immediate:!0}},created:function(){"true"===this.$route.query.preview?this.isPreview=!1:this.isPreview=!0,this.$route.query.formId?this.queryForm():this.$router.push("/apppage/")},methods:{queryForm:function(e){var t=this,o=l()({id:this.$route.query.formId}),i=new FormData;i.append("requestParam",o),r.a.request(n.a.base+"f/api/app/v2/questionnaire/queryById",i,"file","post").then(function(e){t.widgetList=JSON.parse(e.source).list;for(var o=0,i=t.widgetList.length;o<i;o++)switch(t.widgetList[o].type){case"input":case"textarea":t.$set(t.formDesign,t.widgetList[o].model,"");break;case"number":t.$set(t.formDesign,t.widgetList[o].model,t.widgetList[o].options.min);break;case"radio":case"checkbox":case"select":t.$set(t.formDesign,t.widgetList[o].model,t.widgetList[o].options.selectValue);break;case"imgupload":t.$set(t.formDesign,t.widgetList[o].model,[])}})}}},c={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"questionnaire-preview"},["phone"===e.clientType?o("div",{staticClass:"phone"},[o("div",{staticClass:"input-form"},[o("el-form",{attrs:{model:e.formDesign,"label-position":"top"}},e._l(e.widgetList,function(t){return o("div",{key:t.key,staticClass:"fd-design-group-item"},[o("el-form-item",{attrs:{label:t.name,required:t.options.required}},["input"===t.type?[o("el-input",{attrs:{placeholder:t.options.defaultValue,maxlength:t.options.maxlength},model:{value:e.formDesign[t.model],callback:function(o){e.$set(e.formDesign,t.model,o)},expression:"formDesign[item.model]"}})]:e._e(),e._v(" "),"textarea"===t.type?[o("el-input",{attrs:{type:"textarea",placeholder:t.options.defaultValue,maxlength:t.options.maxlength},model:{value:e.formDesign[t.model],callback:function(o){e.$set(e.formDesign,t.model,o)},expression:"formDesign[item.model]"}})]:e._e(),e._v(" "),"number"===t.type?[o("el-input-number",{staticClass:"fr-number",attrs:{min:t.options.min,max:t.options.max},model:{value:e.formDesign[t.model],callback:function(o){e.$set(e.formDesign,t.model,o)},expression:"formDesign[item.model]"}})]:e._e(),e._v(" "),"radio"===t.type?[o("el-radio-group",{staticClass:"fr-radio-group",model:{value:e.formDesign[t.model],callback:function(o){e.$set(e.formDesign,t.model,o)},expression:"formDesign[item.model]"}},e._l(t.options.options,function(t,i){return o("el-radio",{key:i,attrs:{label:t.label}},[e._v(e._s(t.label))])}),1)]:e._e(),e._v(" "),"checkbox"===t.type?[o("el-checkbox-group",{staticClass:"fr-checkbox-group",model:{value:e.formDesign[t.model],callback:function(o){e.$set(e.formDesign,t.model,o)},expression:"formDesign[item.model]"}},e._l(t.options.options,function(t,i){return o("el-checkbox",{key:i,attrs:{label:t.label}},[e._v(e._s(t.label))])}),1)]:e._e(),e._v(" "),"select"===t.type?[o("el-select",{staticClass:"fr-select",attrs:{placeholder:"请选择"},model:{value:e.formDesign[t.model],callback:function(o){e.$set(e.formDesign,t.model,o)},expression:"formDesign[item.model]"}},e._l(t.options.options,function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.label}})}),1)]:e._e(),e._v(" "),"imgupload"==t.type?[o("el-upload",{staticClass:"fr-upload",attrs:{action:"#",multiple:!0,"list-type":"picture-card",limit:t.options.limit,"auto-upload":!1,"file-list":e.formDesign[t.model],"on-change":function(o,i){e.onUploadChange(o,i,t)},"on-exceed":e.onUploadExceed,"on-remove":function(o,i){e.onUploadRemove(o,i,t)}}},[o("i",{staticClass:"el-icon-plus"})])]:e._e()],2)],1)}),0)],1)]):e._e(),e._v(" "),"pc"===e.clientType?o("div",{staticClass:"pc"},[o("div",{staticClass:"questionnaire-title row con-c align-c"},[o("span",[e._v(e._s(e.formDetail.title))])]),e._v(" "),o("div",{staticClass:"input-form"},[o("el-form",{attrs:{model:e.formDesign,"label-position":"top"}},e._l(e.widgetList,function(t){return o("div",{key:t.key,staticClass:"fd-design-group-item"},[o("el-form-item",{attrs:{label:t.name,required:t.options.required}},["input"===t.type?[o("el-input",{attrs:{placeholder:t.options.defaultValue,maxlength:t.options.maxlength},model:{value:e.formDesign[t.model],callback:function(o){e.$set(e.formDesign,t.model,o)},expression:"formDesign[item.model]"}})]:e._e(),e._v(" "),"textarea"===t.type?[o("el-input",{attrs:{type:"textarea",placeholder:t.options.defaultValue,maxlength:t.options.maxlength},model:{value:e.formDesign[t.model],callback:function(o){e.$set(e.formDesign,t.model,o)},expression:"formDesign[item.model]"}})]:e._e(),e._v(" "),"number"===t.type?[o("el-input-number",{staticClass:"fr-number",attrs:{min:t.options.min,max:t.options.max},model:{value:e.formDesign[t.model],callback:function(o){e.$set(e.formDesign,t.model,o)},expression:"formDesign[item.model]"}})]:e._e(),e._v(" "),"radio"===t.type?[o("el-radio-group",{staticClass:"fr-radio-group",model:{value:e.formDesign[t.model],callback:function(o){e.$set(e.formDesign,t.model,o)},expression:"formDesign[item.model]"}},e._l(t.options.options,function(t,i){return o("el-radio",{key:i,attrs:{label:t.label}},[e._v(e._s(t.label))])}),1)]:e._e(),e._v(" "),"checkbox"===t.type?[o("el-checkbox-group",{staticClass:"fr-checkbox-group",model:{value:e.formDesign[t.model],callback:function(o){e.$set(e.formDesign,t.model,o)},expression:"formDesign[item.model]"}},e._l(t.options.options,function(t,i){return o("el-checkbox",{key:i,attrs:{label:t.label}},[e._v(e._s(t.label))])}),1)]:e._e(),e._v(" "),"select"===t.type?[o("el-select",{staticClass:"fr-select",attrs:{placeholder:"请选择"},model:{value:e.formDesign[t.model],callback:function(o){e.$set(e.formDesign,t.model,o)},expression:"formDesign[item.model]"}},e._l(t.options.options,function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.label}})}),1)]:e._e(),e._v(" "),"imgupload"==t.type?[o("el-upload",{staticClass:"fr-upload",attrs:{action:"#",multiple:!0,"list-type":"picture-card",limit:t.options.limit,"auto-upload":!1,"file-list":e.formDesign[t.model],"on-change":function(o,i){e.onUploadChange(o,i,t)},"on-exceed":e.onUploadExceed,"on-remove":function(o,i){e.onUploadRemove(o,i,t)}}},[o("i",{staticClass:"el-icon-plus"})])]:e._e()],2)],1)}),0)],1)]):e._e()])},staticRenderFns:[]};var u=o("VU/8")(m,c,!1,function(e){o("qF/e")},null,null);t.default=u.exports},"qF/e":function(e,t){}});
//# sourceMappingURL=3.d718a0b63354295a1905.js.map